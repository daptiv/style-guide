//== drop-down-list
//
//## styles for drop-down-list

.daptiv-drop-down-list {
    @include font-size-medium();
    display: inline-block;
    max-width: $dropdownlist-item-max-width;
    min-width: $dropdownlist-item-min-width;
    position: relative;

    .content {
        @include standard-box-shadow();

        background: $dropdownlist-background;
        border: solid $dropdownlist-border-size $dropdownlist-border-color;
        border-top: 0;
        display: none;
        position: absolute;
        top: 100%;
        width: 100%;

        > :hover {
            background: $dropdownlist-item-background-hover;
            color: $dropdownlist-item-text-color;
        }

        .item {
            line-height: $dropdownlist-item-height;
        }
    }

    .item {
        color: $dropdownlist-item-text-color;
        display: flex;
        margin: 0;
        overflow: hidden;
        padding: 0 $dropdownlist-item-padding;
        text-decoration: none;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 100%;

        &.current {
            background: transparent;
            border: solid $dropdownlist-border-size transparent;
            width: 100%;

            &:hover {
                background: $dropdownlist-background;
                border-color: $dropdownlist-border-color;
            }
        }

        &.selected {
            border-left: 1px solid $dropdownlist-item-border-color-selected;
            position: relative;

            &:before {
                /* create a triangle using borders with it's tip pointing right and it's base against the left border
                https://css-tricks.com/snippets/css/css-triangle/
                */
                $half-triangle-base: $dropdownlist-item-triangle-base / 2;
                border-bottom: $half-triangle-base solid transparent;
                border-left: $dropdownlist-item-triangle-base-to-tip solid $dropdownlist-item-triangle-color-selected;
                border-top: $half-triangle-base  solid transparent;
                content: '.';
                font-size: 0;
                height: 0;
                left: 0;
                position: absolute;
                top: calc(50% - #{$half-triangle-base});
                width: 0;
            }
        }
    }

    .item .icon {
        color: $dropdownlist-item-icon-color;
        padding-right: $dropdownlist-item-padding-right;

        &.menu {
            color: $dropdownlist-menu-arrow-color;
            margin-left: $dropdownlist-item-padding-right;
        }
    }

    .item .title {
        flex-grow: 1;
    }

    &.open {
        .item {
            &.current {
                background: $dropdownlist-background;
                border-color: $dropdownlist-border-color;
            }
        }

        .content {
            display: block;
        }
    }
}
